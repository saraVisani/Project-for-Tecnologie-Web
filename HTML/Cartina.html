<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>LE NOSTRE SEDI</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
    <link rel="icon" type="image/png" href="C:\xampp\htdocs\UniFlow\Img\logo.png">
    <link rel="stylesheet" href="C:\xampp\htdocs\UniFlow\CSS\Cartina.css">
</head>
<body>
    <h1>Esplora le nostre sedi</h1>
    <div id="map"></div>
    <h3>SEDE SELEZIONATA</h3>
    <div id="sede-info">
        <div id="sede-details"></div>
    </div>

    <script>
        const sedi = [
        {id:0, regione:"BO", citta:"BO", civico:33, nome:"Palazzo Poggi", lat:44.49695468205003, long:11.352428097135476, descrizione:"Cuore storico dell'Università di Bologna, ospita uffici, aule e spazi per eventi culturali."},
        {id:1, regione:"BO", citta:"BO", civico:38, nome:"Palazzo Riario", lat:44.49714545398557, long:11.351777685593056, descrizione:"Elegante edificio dove si svolgono corsi e seminari per diverse facoltà."},
        {id:2, regione:"BO", citta:"BO", civico:2, nome:"San Giovanni in Monte", lat:44.490720343041325, long:11.348107021192652, descrizione:"Ex chiesa trasformata in spazio universitario per conferenze e attività culturali."},
        {id:3, regione:"BO", citta:"BO", civico:20, nome:"Collegio dei Fiamminghi", lat:44.4908632502885, long:11.351050592277026, descrizione:"Residenza e centro culturale per studenti internazionali e progetti artistici."},
        {id:4, regione:"BO", citta:"BO", civico:45, nome:"Palazzo Hercolani", lat:44.491186321477585, long:11.353923413025516, descrizione:"Sede di uffici e aule per corsi accademici e attività amministrative."},
        {id:5, regione:"BO", citta:"BO", civico:28, nome:"Complesso Terracini", lat:44.51418170928735, long:11.320388529127037, descrizione:"Struttura moderna con laboratori e aule per studi scientifici e tecnologici."},
        {id:6, regione:"BO", citta:"BO", civico:9, nome:"Policlinico Sant'Orsola-Malpighi", lat:44.49158501339274, long:11.361322111691853, descrizione:"Centro medico universitario, con cliniche, laboratori e corsi di Medicina e Chirurgia."},
        {id:7, regione:"FC", citta:"CE", civico:50, nome:"Campus universitario di Cesena", lat:44.147817414982335, long:12.235123574591066, descrizione:"Campus completo con aule, laboratori, biblioteche e residenze per studenti."},
        {id:8, regione:"FC", citta:"FO", civico:1, nome:"Polo universitario di Forlì", lat:44.21853822284904, long:12.043530180274589, descrizione:"Sede moderna per corsi, laboratori e attività didattiche a Forlì."},
        {id:9, regione:"RA", citta:"RA", civico:27, nome:"Direzione e servizi studenti", lat:44.4127966303282, long:12.20033533155324, descrizione:"Punto di riferimento per informazioni, servizi e supporto agli studenti."},
        {id:10, regione:"RA", citta:"RA", civico:1, nome:"Dipartimento Beni Culturali", lat:44.4180922, long:12.2002831, descrizione:"Sede accademica per studi storici, artistici e archeologici, con aule e laboratori."},
        {id:11, regione:"RA", citta:"RA", civico:6, nome:"Palazzo Corradini", lat:44.41719039743122, long:12.201891761643571, descrizione:"Edificio storico utilizzato per corsi, conferenze ed eventi culturali."},
        {id:12, regione:"RA", citta:"RA", civico:23, nome:"Palazzo Verdi", lat:44.41847876255419, long:12.19697375988833, descrizione:"Sede universitaria per discipline umanistiche e sociali, con spazi per studenti e docenti."},
        {id:13, regione:"RA", citta:"RA", civico:163, nome:"Laboratori Scientifici", lat:44.434364812359206, long:12.195865837159722, descrizione:"Strutture all'avanguardia per ricerca e attività scientifiche sperimentali."},
        {id:14, regione:"RA", citta:"RA", civico:55, nome:"Ingegneria e Architettura", lat:44.41496707183807, long:12.203009791004662, descrizione:"Sede dei dipartimenti di Ingegneria e Architettura, con laboratori, aule e spazi per progetti."},
        {id:15, regione:"RA", citta:"RA", civico:5, nome:"Ospedale S.Maria delle Croci", lat:44.41006870830968, long:12.190217946930394, descrizione:"Centro clinico e sede universitaria per corsi e tirocinio in Medicina."},
        {id:16, regione:"RN", citta:"RN", civico:22, nome:"Complesso Valgimigli", lat:44.0620511659657, long:12.56997495159669, descrizione:"Sede universitaria con laboratori e aule moderne per corsi scientifici e tecnologici."}
    ];

        var map = L.map('map').setView([44.2875081,11.8752501], 9);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        var redIcon = new L.Icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        var greenIcon = new L.Icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        var selectedMarker = null;

        sedi.forEach(item => {
            var marker = L.marker([item.lat, item.long], { icon: redIcon })
                .addTo(map)
                .bindPopup(item.nome);

            marker.on('click', function() {
                if (selectedMarker) selectedMarker.setIcon(redIcon);
                marker.setIcon(greenIcon);
                selectedMarker = marker;

                showSedeInfo(item);
            });
        });

        function showSedeInfo(sede) {
            const detailsDiv = document.getElementById('sede-details');
            detailsDiv.innerHTML = `
                <h4>${sede.nome}</h4>
                <p>${sede.descrizione}</p>
            `;
        }

    </script>
</body>
</html>
