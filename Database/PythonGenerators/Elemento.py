messaggio= (1000, 1, 0, "E'' una buona proposta.", "2026-01-12 01:57:36", 24, 17, 0, 0, None, 4),
(1001, 2, 0, "Chi è responsabile di questa sezione?", "2026-01-13 21:25:02", 280, 35, 0, 0, None, 98),
(1002, 3, 0, "Possiamo fare una riunione online?", "2026-01-13 06:35:30", 193, 34, 0, 0, None, 102),
(1003, 4, 0, "Possiamo fare una riunione online?", "2026-01-24 03:38:57", 254, 238, 0, 0, None, 78),
(1004, 5, 0, "Concordo pienamente con quanto detto.", "2026-01-23 20:08:44", 370, 22, 0, 0, None, 60),
(1005, 1, 1, "Sarà presente qualcuno del dipartimento?", "2026-01-27 21:39:41", 472, 53, 0, 0, None, 175),
(1006, 2, 1, "Ottima iniziativa!", "2026-01-13 12:38:01", 347, 2, 0, 0, None, 217),
(1007, 1, 2, "Posso avere una copia del documento?", "2026-01-15 00:33:09", 12, 6, 0, 0, None, 136),
(1008, 2, 2, "Chi è responsabile di questa sezione?", "2026-01-30 13:51:26", 358, 104, 0, 0, None, 36),
(1009, 3, 2, "Proponiamo un sondaggio.", "2026-01-15 17:02:48", 467, 86, 0, 0, None, 207),
(1010, 4, 2, "Proponiamo un sondaggio.", "2026-01-18 13:59:49", 372, 326, 0, 0, None, 80),
(1011, 1, 3, "Preferirei un altro orario.", "2026-01-17 08:00:07", 449, 343, 0, 0, None, 98),
(1012, 2, 3, "Serve approvazione dal coordinatore.", "2026-01-19 05:30:26", 137, 55, 0, 0, None, 20),
(1013, 1, 4, "Sarà presente qualcuno del dipartimento?", "2026-01-31 09:34:32", 330, 27, 0, 0, None, 103),
(1014, 2, 4, "Ci sono conflitti con altri impegni.", "2026-01-16 13:06:55", 186, 75, 0, 0, None, 233),
(1015, 1, 5, "Ottima iniziativa!", "2026-01-26 23:38:30", 137, 37, 0, 0, None, 24),
(1016, 2, 5, "Proponiamo un sondaggio.", "2026-01-19 06:27:56", 352, 33, 0, 0, None, 224),
(1017, 3, 5, "Preferirei un altro orario.", "2026-01-29 09:26:00", 157, 80, 0, 0, None, 126),
(1018, 4, 5, "Ci sono conflitti con altri impegni.", "2026-01-18 23:56:43", 464, 294, 0, 0, None, 11),
(1019, 1, 6, "Secondo me bisogna rivedere la data proposta.", "2026-01-30 08:20:22", 479, 308, 0, 0, None, 243),
(1020, 2, 6, "Proponiamo un sondaggio.", "2026-02-01 07:37:57", 273, 125, 0, 0, None, 155),
(1021, 3, 6, "Va bene così, procediamo.", "2026-01-19 03:39:02", 223, 216, 0, 0, None, 140),
(1022, 1, 8, "Ho dei dubbi sul contenuto.", "2026-02-01 21:48:35", 276, 133, 0, 0, None, 40),
(1023, 2, 8, "Va bene così, procediamo.", "2026-02-01 16:52:16", 279, 1, 0, 0, None, 128),
(1024, 3, 8, "Ho dei dubbi sul contenuto.", "2026-02-01 23:21:09", 378, 20, 0, 0, None, 59),
(1025, 1, 9, "Proponiamo un sondaggio.", "2026-01-18 18:21:05", 340, 207, 0, 0, None, 92),
(1026, 2, 9, "Suggerisco di posticipare.", "2026-01-28 14:46:58", 332, 203, 0, 0, None, 84),
(1027, 3, 9, "Concordo pienamente con quanto detto.", "2026-01-13 16:15:14", 46, 5, 0, 0, None, 95),
(1028, 4, 9, "Ho aggiunto dei commenti nel documento.", "2026-01-23 12:52:10", 280, 236, 0, 0, None, 139),
(1029, 5, 9, "Non ero a conoscenza di questo aggiornamento.", "2026-01-26 18:29:13", 321, 213, 0, 0, None, 214),
(1030, 1, 10, "Posso avere una copia del documento?", "2026-02-01 17:07:20", 341, 150, 0, 0, None, 81),
(1031, 2, 10, "Potremmo fare una riunione preliminare.", "2026-02-01 22:40:15", 356, 284, 0, 0, None, 246),



thread= [(0, 0, 0, 0, "Riunione dipartimento", "La riunione del dipartimento si terrà venerdì alle ore 15 in aula docenti.", "2026-01-10 09:30:00", 5, 0, 1, 0, 1, None, 3),
 (1, 0, 0, 1, "Sostituzioni docenti assenti", "Inserire qui le disponibilità per eventuali sostituzioni della prossima settimana.", "2026-01-11 08:15:00", 3, 0, 0, 0, 0, None, 5),
 (2, 0, 3, 0, "Calendario verifiche", "Il calendario delle verifiche del mese è disponibile sul registro elettronico.", "2026-01-12 10:00:00", 12, 1, 1, 0, 1, None, 8),
 (3, 1, 0, 0, "Assemblea di istituto", "Proposte per i temi dell’assemblea del prossimo mese.", "2026-01-13 14:20:00", 8, 0, 0, 0, 0, None, 23), 
 (4, 1, 1, 0, "Incontro con i docenti", "L’incontro con i docenti rappresentanti si terrà martedì alle 11.", "2026-01-14 09:00:00", 15, 2, 1, 0, 1, None, 31), 
 (5, 1, 2, 0,"Gita scolastica", "Avete idee per la prossima gita scolastica?","2026-01-15 16:45:00", 20, 3, 0, 0, 0, None, 23),
 (6, 1, 2, 1,"Orario lezioni","Che ne pensate del nuovo orario delle lezioni?","2026-01-16 12:10:00",10, 1, 0, 0, 0, None, 24),
 (7, 2, 3, 0,"Chiusura scuola","La scuola resterà chiusa lunedì per manutenzione straordinaria.","2026-01-17 07:30:00",50, 0, 1, 1, 1, None, 1),
 (8, 2, 4, 0, "Aggiornamenti sull'orario settimanale","In questo thread trovate tutte le modifiche e gli aggiornamenti agli orari delle lezioni di questa settimana.", "2026-02-01 10:00:00", 100, 20, 0, 0, 0, None, None),
 (9, 2, 4, 1, "Domande esami", "Spazio per fare domande sugli esami.", "2026-01-13 11:30:00", 165, 3, 1, 0, 0, None, None),
 (10, 2, 4, 2, "Comunicazioni segreteria", "Comunicazioni importanti per tutti gli studenti.", "2026-02-01 12:00:00", 442, 130, 0, 0, 0, None, None)]

import random

MAX_ELEMENTI = 50
CODICE_START = 1    

thread_list = thread
messaggi_list = messaggio

# Thread utilizzabili:
# Pin = 0, Chiuso = 0, No_Reply = 0
thread_validi = [
    t for t in thread_list
    if t[9] == 0 and t[10] == 0 and t[11] == 0
]

# Messaggi utilizzabili:
# Pin = 0, Pin_Speciale = 0
messaggi_validi = [
    m for m in messaggi_list
    if m[7] == 0 and m[8] == 0
]

def nome_elemento_da_thread(titolo):
    """
    Genera un nome coerente per un elemento basato su un thread
    """
    templates = [
        f"Sei d'accordo su '{titolo}'?",
        f"Cosa ne pensi di '{titolo}'?",
        f"Opinione riguardo '{titolo}'",
        f"Quanto è rilevante '{titolo}'?",
        f"Valutazione su '{titolo}'"
    ]
    return random.choice(templates)


def nome_elemento_da_messaggio(testo):
    """
    Genera un nome coerente per un elemento basato su un messaggio
    (tagliamo il testo per evitare nomi troppo lunghi)
    """
    snippet = testo[:40].rstrip(".")
    templates = [
        f"Condividi questa affermazione?",
        f"Sei d'accordo con: '{snippet}...'?",
        f"Quanto trovi valida questa opinione?",
        f"Ti trovi d'accordo con questo messaggio?"
    ]
    return random.choice(templates)


def genera_voto():
    """
    Genera un voto realistico (0–500)
    con leggera variabilità
    """
    return random.randint(0, 500)


# ==========================
# GENERAZIONE ELEMENTI
# ==========================

elementi = []
codice_corrente = CODICE_START

# scegliamo un numero casuale di elementi (max 50)
num_elementi = (MAX_ELEMENTI)

for _ in range(num_elementi):

    # scegliamo casualmente se l'elemento è legato a thread o messaggio
    usa_thread = random.choice([True, False])

    if usa_thread and thread_validi:
        t = random.choice(thread_validi)

        cod_unico_thread = t[0]      # Cod_Unico del thread
        cod_unico_messaggio = None
        nome = nome_elemento_da_thread(t[4])

    else:
        m = random.choice(messaggi_validi)

        cod_unico_thread = None
        cod_unico_messaggio = m[0]   # Cod_Unico del messaggio
        nome = nome_elemento_da_messaggio(m[3])

    voto = genera_voto()

    elementi.append(
        (
            codice_corrente,
            nome,
            voto,
            cod_unico_thread,
            cod_unico_messaggio
        )
    )

    codice_corrente += 1


# ==========================
# OUTPUT SQL
# ==========================
for e in elementi:
    codice, nome, voto, cod_thread, cod_msg = e

    # sostituiamo eventuali " nel testo per evitare errori SQL
    nome_sql = nome.replace('"', '""')

    print(
        f'insert into Elemento values ({codice}, "{nome_sql}", {voto}, '
        f'{"null" if cod_thread is None else cod_thread}, '
        f'{"null" if cod_msg is None else cod_msg});'
    )

